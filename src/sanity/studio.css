/* ==========================================
   خطوط Google Fonts - Cairo & Tajawal
   ========================================== */
@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&family=Tajawal:wght@400;500;700&display=swap');

/* ==========================================
   إعدادات عامة للاستوديو
   ========================================== */
[data-ui="RootLayout"] {
  font-family: 'Cairo', 'Tajawal', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
  direction: rtl !important;
  text-align: right !important;
  font-size: 16px !important;
}

body[data-scheme] {
  font-size: 16px !important;
  line-height: 1.6 !important;
}

/* ==========================================
   إظهار وتكبير عناوين الحقول - الحل النهائي
   ========================================== */

/* استهداف جميع العناوين */
label,
[data-ui="Label"],
[data-ui="FormFieldHeaderText"] {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  font-size: 17px !important;
  font-weight: 700 !important;
  margin-bottom: 8px !important;
  color: #002E63 !important;
  font-family: 'Cairo', sans-serif !important;
  line-height: 1.5 !important;
}

/* استهداف Text components بحجم 1 (العناوين) */
[data-ui="Text"][data-size="1"] {
  font-size: 17px !important;
  font-weight: 700 !important;
  color: #002E63 !important;
  font-family: 'Cairo', sans-serif !important;
  display: block !important;
  margin-bottom: 8px !important;
}

/* استهداف أول عنصر في FormField */
[data-ui="FormField"] > div:first-child {
  background-color: rgba(0, 46, 99, 0.06) !important;
  padding: 8px 12px !important;
  border-radius: 4px !important;
  margin-bottom: 10px !important;
  border-right: 3px solid #002E63 !important;
}

/* استهداف النصوص داخل أول عنصر */
[data-ui="FormField"] > div:first-child *,
[data-ui="FormField"] > [data-ui="Stack"] > div:first-child * {
  font-size: 17px !important;
  font-weight: 700 !important;
  color: #002E63 !important;
  font-family: 'Cairo', sans-serif !important;
}

/* استهداف Stack > Box الأول */
[data-ui="Stack"] > [data-ui="Box"]:first-child,
[data-ui="Stack"] > div:first-child {
  background-color: rgba(0, 46, 99, 0.06) !important;
  padding: 8px 12px !important;
  border-radius: 4px !important;
  margin-bottom: 8px !important;
  border-right: 3px solid #002E63 !important;
}

[data-ui="Stack"] > [data-ui="Box"]:first-child *,
[data-ui="Stack"] > div:first-child * {
  font-size: 17px !important;
  font-weight: 700 !important;
  color: #002E63 !important;
  font-family: 'Cairo', sans-serif !important;
}

/* عناوين الـ Array/Reference */
[data-ui="ArrayInput"] > div:first-child,
[data-ui="ReferenceInput"] > div:first-child {
  background-color: rgba(0, 46, 99, 0.06) !important;
  padding: 10px 12px !important;
  border-radius: 4px !important;
  margin-bottom: 12px !important;
  border-right: 3px solid #002E63 !important;
}

[data-ui="ArrayInput"] > div:first-child *,
[data-ui="ReferenceInput"] > div:first-child * {
  font-size: 17px !important;
  font-weight: 700 !important;
  color: #002E63 !important;
  font-family: 'Cairo', sans-serif !important;
}

/* Fieldset Legend */
fieldset legend,
[data-ui="Fieldset"] legend {
  font-size: 18px !important;
  font-weight: 700 !important;
  color: #002E63 !important;
  font-family: 'Cairo', sans-serif !important;
  margin-bottom: 12px !important;
}

/* إضافة سهم قبل العنوان - بدون تداخل */
[data-ui="FormField"] > div:first-child::before {
  content: "▸ " !important;
  color: #002E63 !important;
  font-weight: bold !important;
  margin-left: 6px !important;
  display: inline-block !important;
  vertical-align: middle !important;
}

/* ==========================================
   تكبير حقول الإدخال (Inputs)
   ========================================== */
input[type="text"],
input[type="email"],
input[type="number"],
input[type="password"],
textarea,
[data-ui="TextInput"],
[data-ui="TextArea"] {
  font-size: 16px !important;
  padding: 12px 16px !important;
  min-height: 48px !important;
  border-radius: 6px !important;
  font-family: 'Cairo', sans-serif !important;
  direction: rtl !important;
  text-align: right !important;
}

textarea,
[data-ui="TextArea"] {
  min-height: 120px !important;
  line-height: 1.6 !important;
}

/* ==========================================
   تكبير الأزرار (Buttons)
   ========================================== */
button,
[data-ui="Button"] {
  font-size: 16px !important;
  padding: 12px 24px !important;
  min-height: 44px !important;
  font-weight: 600 !important;
  border-radius: 6px !important;
  font-family: 'Cairo', sans-serif !important;
  transition: all 0.2s ease !important;
}

button:hover,
[data-ui="Button"]:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 46, 99, 0.15);
}

button[data-tone="primary"],
[data-ui="Button"][data-tone="primary"] {
  background-color: #002E63 !important;
  color: white !important;
}

button[data-tone="primary"]:hover {
  background-color: #1a4d8f !important;
}

/* ==========================================
   تحسين القوائم المنسدلة (Select)
   ========================================== */
select,
[data-ui="Select"] {
  font-size: 16px !important;
  padding: 12px 16px !important;
  min-height: 48px !important;
  border-radius: 6px !important;
  font-family: 'Cairo', sans-serif !important;
  direction: rtl !important;
}

/* ==========================================
   تحسين العناوين الرئيسية
   ========================================== */
h1, h2, h3, h4, h5, h6,
[data-ui="Heading"] {
  font-family: 'Cairo', sans-serif !important;
  font-weight: 700 !important;
  color: #002E63 !important;
  direction: rtl !important;
}

h1, [data-ui="Heading"][data-size="4"] {
  font-size: 28px !important;
}

h2, [data-ui="Heading"][data-size="3"] {
  font-size: 24px !important;
}

h3, [data-ui="Heading"][data-size="2"] {
  font-size: 20px !important;
}

h4, [data-ui="Heading"][data-size="1"] {
  font-size: 18px !important;
}

/* ==========================================
   التباعد بين الحقول
   ========================================== */
[data-ui="FormField"] {
  margin-bottom: 24px !important;
}

/* ==========================================
   إضافة علامة (*) للحقول المطلوبة
   ========================================== */
[data-ui="FormField"][data-validation*="required"] > div:first-child::after {
  content: " *" !important;
  color: #c01c28 !important;
  font-weight: 700 !important;
}

/* ==========================================
   تحسين وصف الحقول (Description)
   ========================================== */
[data-ui="FormField"] [data-ui="Text"][data-muted] {
  font-size: 14px !important;
  color: #666 !important;
  margin-top: 4px !important;
  font-family: 'Cairo', sans-serif !important;
  font-weight: 400 !important;
  background: none !important;
  padding: 0 !important;
  border: none !important;
}

/* ==========================================
   تحسين placeholder
   ========================================== */
input::placeholder,
textarea::placeholder,
select::placeholder {
  color: #7fa8c9 !important;
  font-weight: 500 !important;
  font-family: 'Cairo', sans-serif !important;
}

/* ==========================================
   تكبير جميع الأيقونات (Icons)
   ========================================== */
[data-sanity-icon],
svg[data-sanity-icon] {
  width: 24px !important;
  height: 24px !important;
  min-width: 24px !important;
  min-height: 24px !important;
}

button svg,
[data-ui="Button"] svg {
  width: 20px !important;
  height: 20px !important;
}

[data-ui="MenuItem"] svg,
[data-ui="NavMenu"] svg {
  width: 22px !important;
  height: 22px !important;
  margin-left: 8px !important;
}

[data-ui="Spinner"] svg {
  width: 32px !important;
  height: 32px !important;
}

/* ==========================================
   تحسين Scrollbar
   ========================================== */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: #F2F8FC;
}

::-webkit-scrollbar-thumb {
  background: #002E63;
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: #1a4d8f;
}

/* ==========================================
   تحسين Focus States
   ========================================== */
*:focus-visible {
  outline: 2px solid #002E63 !important;
  outline-offset: 2px !important;
}

/* ==========================================
   إصلاح التداخل في العناوين
   ========================================== */

/* إزالة السهم من Stack لتجنب التكرار */
[data-ui="Stack"] > div:first-child::before {
  content: none !important;
}

/* تحسين عرض النص داخل العنوان */
[data-ui="FormField"] > div:first-child {
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
}

/* منع تداخل النصوص */
[data-ui="FormField"] > div:first-child * {
  display: inline !important;
  vertical-align: middle !important;
}

/* إصلاح تداخل الأسهم في الأقسام الرئيسية */
[data-ui="Heading"]::before,
h1::before,
h2::before,
h3::before,
h4::before {
  content: none !important;
}

/* تحسين عرض العناوين الرئيسية */
[data-ui="Heading"],
h1, h2, h3, h4 {
  display: block !important;
  width: 100% !important;
  padding: 0 !important;
}

/* إزالة الخلفية من العناوين الرئيسية */
[data-ui="DocumentPanel"] > div > div > [data-ui="Stack"] > div:first-child {
  background: none !important;
  border: none !important;
  padding: 0 !important;
}

/* إصلاح التداخل في عنوان "Lesson" */
[data-ui="DocumentPanel"] h1,
[data-ui="DocumentPanel"] [data-ui="Heading"] {
  background: none !important;
  border: none !important;
  padding: 0 !important;
  margin-bottom: 16px !important;
}

/* تحسين المسافات */
[data-ui="FormField"] > div:first-child {
  min-height: auto !important;
  line-height: 1.5 !important;
}
/* ==========================================
   إضافة العناوين - الحل الصحيح
   ========================================== */

/* استهداف العناصر بـ data-testid */
[data-testid^="field-"] {
  position: relative !important;
  padding-top: 50px !important;
  margin-bottom: 20px !important;
}

/* إضافة عنوان لكل حقل */
[data-testid^="field-"]::before {
content: "◀ عنوان الحقل" !important;
  position: absolute !important;
  top: 0 !important;
  right: 0 !important;
  left: 0 !important;
  display: block !important;
  font-size: 17px !important;
  font-weight: 700 !important;
  color: #002E63 !important;
  background: rgba(0, 46, 99, 0.08) !important;
  padding: 10px 14px !important;
  border-radius: 4px !important;
  font-family: 'Cairo', sans-serif !important;
  border-right: 4px solid #002E63 !important;
  text-transform: capitalize !important;
}

/* تحويل data-testid إلى نص عربي */
[data-testid="field-title"]::before { content: "◀ عنوان الدرس *" !important; }
[data-testid="field-grade"]::before { content: "◀ المرحلة" !important; }
[data-testid="field-term"]::before { content: "◀ الفصل" !important; }
[data-testid="field-subjectType"]::before { content: "◀ القسم" !important; }
[data-testid="field-lessonId"]::before { content: "◀ معرّف الدرس" !important; }
[data-testid="field-order"]::before { content: "◀ الترتيب" !important; }
[data-testid="field-description"]::before { content: "◀ الوصف" !important; }
[data-testid="field-questions"]::before { content: "◀ الأسئلة" !important; }
[data-testid="field-type"]::before { content: "◀ النوع *" !important; }
[data-testid="field-stem"]::before { content: "◀ نص السؤال *" !important; }
[data-testid="field-choices"]::before { content: "◀ الاختيارات" !important; }
[data-testid="field-answerIndex"]::before { content: "◀ إجابة الاختيار" !important; }
[data-testid="field-answerBool"]::before { content: "◀ إجابة صح/خطأ" !important; }
[data-testid="field-validAnswers"]::before { content: "◀ إجابات نصية صحيحة" !important; }
[data-testid="field-explanation"]::before { content: "◀ سبب/شرح" !important; }
[data-testid="field-key"]::before { content: "◀ المعرف *" !important; }